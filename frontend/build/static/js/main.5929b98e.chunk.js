(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(24),i=n.n(s),r=n(10),o=n(21),u=(n(76),n.p+"static/media/koreanchicken.ff72deb8.jpg"),l=(n(38),n(1));var j=function(){return Object(l.jsx)("div",{className:"Title",children:Object(l.jsx)("h1",{children:"Kaychiq"})})},d=(n(78),function(e){return Object(l.jsxs)("div",{children:[Object(l.jsx)(j,{}),Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"homeContainer",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"text",children:"Do you want to get fucked"}),Object(l.jsx)("div",{className:"textLARG",children:" Kaychiq is the solution for you!  "}),Object(l.jsx)(o.b,{to:"/createGame",className:"userContainer",children:Object(l.jsx)("div",{className:"textLARG",children:"Create Game "})}),Object(l.jsx)(o.b,{to:"/lobby",className:"userContainer",children:Object(l.jsx)("div",{className:"textLARG",children:"Join Lobby "})})]}),Object(l.jsx)("img",{className:"pic",src:u,style:{"align-self":"center"}})]})})]})}),b=n(4),h=n(19),m=n(20),O=n(25),f=n(36),g=n(35),p=n(26),x=n.n(p),v=new(function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,[{key:"createGame",value:function(e){return x.a.post("/api/createGame",{username:e}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"joinGame",value:function(e,t){return x.a.post("/api/joinGame",{username:e,code:t}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"checkGameStarted",value:function(e){return x.a.post("/api/checkGameStarted",{token:e}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"startGuessGame",value:function(e){return x.a.post("/api/startGuessGame",{token:e}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"isHost",value:function(e){return x.a.post("/api/isHost",{token:e}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}]),e}()),k=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={username:"",gameCode:"",indToken:"",gameCreated:!1},a.handleUsernameChange=a.handleUsernameChange.bind(Object(O.a)(a)),a.handleCodeChange=a.handleCodeChange.bind(Object(O.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(O.a)(a)),a}return Object(m.a)(n,[{key:"handleUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"handleCodeChange",value:function(e){this.setState({gameCode:e.target.value})}},{key:"componentWillReceiveProps",value:function(e){e.token&&this.setState({username:e.token.split("_")[1],gameCreated:!0,gameCode:e.token.split("_")[0],indToken:e.token})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),v.joinGame(this.state.username,this.state.gameCode).then((function(e){e.isValid?(t.setState({gameCode:e.gameToken,indToken:e.individualToken}),t.props.passToken(e.individualToken),console.log(e),t.setState({gameCreated:!0})):alert(e.validMsg)}))}},{key:"render",value:function(){return this.state.gameCreated?Object(l.jsxs)("div",{className:"textLARG",children:[" You have joined game ",this.state.gameCode," "]}):Object(l.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(l.jsxs)("label",{children:["Enter your Username:",Object(l.jsx)("input",{type:"text",value:this.state.username,onChange:this.handleUsernameChange})]}),Object(l.jsxs)("label",{children:["Enter your Game Code:",Object(l.jsx)("input",{type:"text",value:this.state.gameCode,onChange:this.handleCodeChange})]}),Object(l.jsx)("input",{type:"submit",value:"Submit"})]})}}]),n}(c.a.Component),y=n(115),C=n(117),G=n(123),S=n(121),N=n(118),T=n(119),w=n.p+"static/media/apple.e6f58345.png",I=n.p+"static/media/grapefruit.56b4ec34.png",L=n.p+"static/media/original.7364428a.png",E=n.p+"static/media/peach.4b3916d7.png",R=n.p+"static/media/plum.848150eb.png",W=n.p+"static/media/strawberry.e2f74bfd.png",A=n.p+"static/media/watermelon.816a1fa5.png",B=n.p+"static/media/lychee.829c269d.png",H=Object(y.a)((function(e){return{root:{flexGrow:1},paper:{height:100,width:140},control:{padding:e.spacing(2)}}})),M=function(e){var t=Object(a.useState)([]),n=Object(b.a)(t,2),s=n[0],i=n[1],o=Object(a.useState)(e.token),u=Object(b.a)(o,2),j=u[0],d=u[1],h=Object(r.f)(),m=c.a.useState(2),O=Object(b.a)(m,2),f=O[0],g=(O[1],H(),Object(a.useState)({})),p=Object(b.a)(g,2),x=p[0],k=p[1],y=Object(a.useState)({apple:w,grapefruit:I,original:L,peach:E,plum:R,strawberry:W,watermelon:A,lychee:B}),M=Object(b.a)(y,2),P=M[0];M[1];Object(a.useEffect)((function(){e.token!==j&&d(e.token)}));!function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){D()}),2e3);var D=function(){v.checkGameStarted(j).then((function(e){var t;console.log(e),e?(e.gameStarted&&(t=e.gameLink,h.push({pathname:"/"+t,token:j})),i(e.players),k(e.sojuMap)):console.log("Error pinging api")}))};return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"textLARG",children:" Lobby:"}),Object(l.jsx)(C.a,{item:!0,children:Object(l.jsx)(C.a,{container:!0,justifyContent:"center",justify:"center",alignItems:"center",spacing:f,children:s.map((function(e){return Object(l.jsx)(S.a,{className:"cardContainer",alignItems:"center",children:Object(l.jsxs)(N.a,{className:"cardContentContainer",alignItems:"center",children:[Object(l.jsx)("img",{src:P[x[e]],width:"80",height:"120"}),Object(l.jsx)(G.a,{component:"div",justify:"center",alignItems:"center",children:Object(l.jsx)(T.a,{fontWeight:"fontWeightBold",m:1,justify:"center",alignItems:"center",children:e})})]})})}))})})]})},P=function(e){var t=Object(a.useState)(""),n=Object(b.a)(t,2),c=n[0],s=n[1];Object(a.useEffect)((function(){e.location.token&&s(e.location.token)}),[]);return Object(l.jsxs)("body",{children:[Object(l.jsx)(j,{children:" "}),Object(l.jsx)("div",{className:"homeContainer",children:Object(l.jsx)(k,{passToken:function(e){console.log(e),s(e)},token:c})}),Object(l.jsx)("div",{className:"homeContainer",children:Object(l.jsx)(M,{token:c})})]})},D=function(e){Object(f.a)(n,e);var t=Object(g.a)(n);function n(e){var a;return Object(h.a)(this,n),a=t.call(this,e),console.log(e),e.token?a.state={username:e.token.split("_")[1],gameCreated:!0,gameCode:e.token.split("_")[0],indToken:e.token}:a.state={username:"",gameCreated:!1,gameCode:"",indToken:""},a.handleChange=a.handleChange.bind(Object(O.a)(a)),a.handleGuessLink=a.handleGuessLink.bind(Object(O.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(O.a)(a)),a}return Object(m.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.token&&this.setState({username:e.token.split("_")[1],gameCreated:!0,gameCode:e.token.split("_")[0],indToken:e.token})}},{key:"handleGuessLink",value:function(e){v.startGuessGame(this.state.indToken).then((function(t){t.isValid||(alert(t.validMsg),e.preventDefault())})),console.log("hey")}},{key:"handleChange",value:function(e){this.setState({username:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),console.log("hey"),v.createGame(this.state.username).then((function(e){t.setState({gameCode:e.gameToken,indToken:e.individualToken}),t.props.passToken(e.individualToken)})),this.setState({gameCreated:!0})}},{key:"render",value:function(){var e=this;return this.state.gameCreated?Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"textLARG",children:[" Your game code is ",this.state.gameCode," "]}),Object(l.jsx)(o.b,{to:{pathname:"/guessNumberGame",token:this.state.indToken},className:"userContainer",onClick:function(t){return e.handleGuessLink(t)},children:Object(l.jsx)("div",{className:"textLARG",children:"Start Guess Soju Bottle No. Game "})})]}):Object(l.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(l.jsxs)("label",{children:["Enter your Username:",Object(l.jsx)("input",{type:"text",value:this.state.username,onChange:this.handleChange})]}),Object(l.jsx)("input",{type:"submit",value:"Submit"})]})}}]),n}(c.a.Component),U=function(e){var t=Object(a.useState)(""),n=Object(b.a)(t,2),c=n[0],s=n[1];Object(a.useEffect)((function(){e.location.token&&s(e.location.token)}),[]);return Object(l.jsxs)("body",{children:[Object(l.jsx)(j,{}),Object(l.jsx)("div",{className:"homeContainer",children:Object(l.jsx)(D,{passToken:function(e){console.log(e),s(e)},token:c})}),Object(l.jsx)("div",{className:"homeContainer",children:Object(l.jsx)(M,{token:c})})]})},_=new(function(){function e(){Object(h.a)(this,e)}return Object(m.a)(e,[{key:"getGuessState",value:function(e){return x.a.post("/api/getGuessState",{token:e}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"guess",value:function(e,t){return x.a.post("/api/guess",{token:e,guess:t}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}},{key:"guessToLobby",value:function(e){return x.a.post("/api/guessToLobby",{token:e}).then((function(e){return e.data})).catch((function(e){console.log(e)}))}}]),e}()),F=n(22),J=n(46),K=n(37),V=Object(y.a)((function(e){return{root:{flexGrow:1},paper:{height:100,width:140},control:{padding:e.spacing(2)}}})),q=function(e){var t=Object(a.useState)(e.players),n=Object(b.a)(t,2),c=n[0],s=n[1],i=(V(),Object(a.useState)(e.currPlayer)),r=Object(b.a)(i,2),o=r[0],u=r[1],j=Object(a.useState)(e.highest),d=Object(b.a)(j,2),h=d[0],m=d[1],O=Object(a.useState)(e.lowest),f=Object(b.a)(O,2),g=f[0],p=f[1],x=Object(a.useState)(e.currGuess),v=Object(b.a)(x,2),k=v[0],y=v[1],H=Object(a.useState)({}),M=Object(b.a)(H,2),P=M[0],D=M[1],U=Object(a.useState)({apple:w,grapefruit:I,original:L,peach:E,plum:R,strawberry:W,watermelon:A,lychee:B}),_=Object(b.a)(U,2),F=_[0];_[1];return Object(a.useEffect)((function(){s(e.players),D(e.sojuMap),u(e.currPlayer),m(e.highest),p(e.lowest),y(e.currGuess),console.log(k)}),[e.players,e.sojuMap,e.currPlayer,e.highest,e.lowest,e.currGuess]),Object(l.jsx)("div",{children:Object(l.jsxs)("div",{className:"homeContainer",children:[Object(l.jsx)(C.a,{item:!0,children:Object(l.jsx)(C.a,{container:!0,justifyContent:"center",justify:"center",spacing:2,children:c.map((function(e){return Object(l.jsx)(S.a,{className:"cardContainer",alignItems:"center",children:Object(l.jsxs)(N.a,{className:"cardContentContainer",alignItems:"center",children:[Object(l.jsx)("img",{src:F[P[e]],width:"80",height:"120"}),Object(l.jsx)(G.a,{component:"div",justify:"center",alignItems:"center",children:Object(l.jsx)(T.a,{fontWeight:"fontWeightBold",m:1,justify:"center",alignItems:"center",children:e})})]})})}))})}),Object(l.jsx)(G.a,{className:o?"":"hidden",component:"div",justify:"center",alignItems:"center",children:Object(l.jsxs)(T.a,{fontWeight:"fontWeightBold",m:1,justify:"center",alignItems:"center",children:["Current player is ",o]})}),Object(l.jsx)(G.a,{className:k[1]?"":"hidden",component:"div",justify:"center",alignItems:"center",children:Object(l.jsxs)(T.a,{fontWeight:"fontWeightBold",m:1,justify:"center",alignItems:"center",children:[k[1]," guessed ",k[0]]})}),Object(l.jsx)(G.a,{className:k[1]?"":"hidden",component:"div",justify:"center",alignItems:"center",children:Object(l.jsxs)(T.a,{fontWeight:"fontWeightBold",m:1,justify:"center",alignItems:"center",children:["Lowest Guess: ",g,Object(l.jsx)("br",{})," Highest Guess: ",h]})})]})})},Y=n.p+"static/media/gif1.c0a77e8d.gif",z=function(e){var t=Object(r.f)(),n=Object(a.useState)(e.location.token),c=Object(b.a)(n,2),s=c[0],i=(c[1],Object(a.useState)(!1)),u=Object(b.a)(i,2),d=u[0],h=u[1],m=Object(a.useState)(!1),O=Object(b.a)(m,2),f=O[0],g=O[1],p=Object(a.useState)(""),x=Object(b.a)(p,2),k=x[0],y=x[1],C=Object(a.useState)(!1),G=Object(b.a)(C,2),S=G[0],N=G[1],T=Object(a.useState)(""),w=Object(b.a)(T,2),I=w[0],L=w[1],E=Object(a.useState)(100),R=Object(b.a)(E,2),W=R[0],A=R[1],B=Object(a.useState)(0),H=Object(b.a)(B,2),M=H[0],P=H[1],D=Object(a.useState)(0),U=Object(b.a)(D,2),V=U[0],z=U[1],Q=Object(a.useState)([0,""]),X=Object(b.a)(Q,2),Z=X[0],$=X[1],ee=Object(a.useState)(!1),te=Object(b.a)(ee,2),ne=te[0],ae=te[1],ce=Object(a.useState)([]),se=Object(b.a)(ce,2),ie=se[0],re=se[1],oe=Object(a.useState)({}),ue=Object(b.a)(oe,2),le=ue[0],je=ue[1],de=Object(a.useState)(""),be=Object(b.a)(de,2),he=be[0],me=be[1],Oe=function(){return h(!1)};Object(a.useEffect)((function(){s&&L(s.split("_")[1]),v.isHost(s).then((function(e){e?e.isHost&&N(!0):console.log("error pinging api")}))}),[]),function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){fe()}),2e3);var fe=function(){_.getGuessState(s).then((function(e){console.log(e),e?(e.currGuess!=Z[0]&&$([e.currGuess,he]),console.log(Z),A(e.highestGuess),P(e.lowestGuess),re(e.players),me(e.currPlayer),je(e.sojuMap),e.yourTurn&&!e.gameOver&&h(!0),e.gameOver&&(y(e.currPlayer),g(!0)),e.link&&t.push({pathname:"/"+e.link,token:s})):console.log("error pinging api")}))};return Object(l.jsxs)("body",{children:[Object(l.jsx)(j,{children:" "}),Object(l.jsx)("div",{className:"textLARG",children:" Guess Number Game "}),Object(l.jsxs)("div",{className:"textLARG",children:[" Hello ",I," "]}),Object(l.jsx)(q,{players:ie,sojuMap:le,currPlayer:he,highest:W,lowest:M,currGuess:Z}),Object(l.jsxs)(F.a,{show:d,onHide:Oe,backdrop:"static",keyboard:!1,children:[Object(l.jsx)(F.a.Header,{children:Object(l.jsx)(F.a.Title,{children:"Enter Guess"})}),Object(l.jsx)(F.a.Body,{children:Object(l.jsxs)(K.a,{children:[Object(l.jsxs)(K.a.Group,{className:"mb-3",controlId:"formBasicEmail",hasValidation:!0,children:[Object(l.jsx)(K.a.Label,{children:"Enter your number guess"}),Object(l.jsx)(K.a.Control,{type:"number",placeholder:"Enter number",value:V,onChange:function(e){return z(e.target.value)}}),Object(l.jsxs)("div",{className:ne?"errorInput":"hidden",children:["Please choose a number in between the lowest and highest guesses",Object(l.jsx)("br",{})]}),Object(l.jsxs)(K.a.Text,{className:"text-muted",children:["Lowest Guess: ",M,Object(l.jsx)("br",{})," Highest Guess: ",W]})]}),Object(l.jsx)(J.a,{variant:"primary",type:"submit",onClick:function(e){return function(e){e.preventDefault(),console.log(V),V>=W||V<=M?ae(!0):(Oe(),_.guess(s,V).then((function(e){})))}(e)},children:"Submit"})]})}),Object(l.jsx)(F.a.Footer,{})]}),Object(l.jsxs)(F.a,{show:f,backdrop:"static",children:[Object(l.jsx)(F.a.Header,{children:Object(l.jsx)(F.a.Title,{children:"DRINKING TIME"})}),Object(l.jsxs)(F.a.Body,{children:[Object(l.jsxs)("div",{className:"center",children:[Object(l.jsxs)("div",{className:"textSMOL",children:[k," guessed ",Z[0]," ",Object(l.jsx)("br",{}),k," drinks!"]}),Object(l.jsx)("img",{src:Y})]}),Object(l.jsx)("div",{className:S?"center":"hidden",children:Object(l.jsx)(o.b,{to:{pathname:"/createGame",token:s},className:"userContainer",onClick:function(e){_.guessToLobby(s)},children:Object(l.jsx)("div",{className:"textLARG",children:"Back to Lobby "})})})]}),Object(l.jsx)(F.a.Footer,{})]})]})};n(102);function Q(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(r.c,{children:[Object(l.jsx)(r.a,{exact:!0,path:"/",component:d}),Object(l.jsx)(r.a,{exact:!0,path:"/lobby",component:P}),Object(l.jsx)(r.a,{exact:!0,path:"/createGame",component:U}),Object(l.jsx)(r.a,{exact:!0,path:"/guessNumberGame",component:z}),Object(l.jsx)(r.a,{path:"*",component:function(){return"404 NOT FOUND"}})]})})}var X=document.getElementById("root");i.a.render(Object(l.jsx)(o.a,{children:Object(l.jsx)(Q,{})}),X)},38:function(e,t,n){},76:function(e,t,n){},78:function(e,t,n){}},[[103,1,2]]]);
//# sourceMappingURL=main.5929b98e.chunk.js.map